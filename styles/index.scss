// @tailwind base;

// /* Write your own custom base styles here */

// /* Start purging... */
// @tailwind components;
// /* Stop purging. */

// /* Write you own custom component styles here */

// /* Start purging... */
// @tailwind utilities;
/* Stop purging. */

/* Your own custom utilities */

body {
    margin: 0;
    font-family: sans-serif;
}

@font-face {
    font-family: "Almendra";
    font-style: italic;
    font-weight: 400;
    font-display: swap;
    src: url("https://fonts.gstatic.com/s/almendra/v15/H4ciBXKAlMnTn0CskxY4yLs.ttf")
        format("truetype");
}

@font-face {
    font-family: "Almendra";
    font-style: italic;
    font-weight: 700;
    font-display: swap;
    src: url("https://fonts.gstatic.com/s/almendra/v15/H4chBXKAlMnTn0CskxY48Ae9oqY.ttf")
        format("truetype");
}

@font-face {
    font-family: "Material Icons Rounded";
    font-style: normal;
    font-weight: 400;
    src: url("https://fonts.gstatic.com/s/materialiconsround/v79/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmM.otf")
        format("opentype");
}

%story-dark {
    --storyColor-dark-l: calc(var(--storyColor-l) - 20%);
    --storyColor-dark: hsl(
        var(--storyColor-h),
        var(--storyColor-s),
        var(--storyColor-dark-l)
    );
}

:root {
    @extend %story-dark;

    --storyColor-bright-l: calc(var(--storyColor-l) + 20%);
    --storyColor-bright-s: calc(var(--storyColor-s) + 20%);
    --storyColor-bright: hsl(
        var(--storyColor-h),
        var(--storyColor-bright-s),
        var(--storyColor-bright-l)
    );

    --msr-unit-margin: 1.2em;
    --msr-unit-marginSmall: 0.9em;
    --msr-icon-border: 12px 4px;
    --msr-icon-size: 60px;
    --msr-icon-sizeSmall: 45px;
    --msr-name-case: uppercase;
    // --msr-line-filter: drop-shadow(0 1px 1.5px rgba(0, 0, 0, 0.05)) drop-shadow(0 1px 1px rgba(0, 0, 0, 0.06));
    --msr-line-border: 8px;
    --msr-line-size: 1em;
    --msr-line-gap: 2.5px;

    --msr-tippy-bg: rgba(0, 0, 0, 0.75);

    --msr-marker-lineColor: #bbb;
}

[character] {
    --light-mode: hsl(var(--hue), 54%, 93%);
    --dark-mode: hsl(var(--hue), 12%, 25%);
    --fill-mode: hsl(var(--hue), 25%, 42%);
}

.preview-wrapper,
.info-area,
a.msr-fn-inline {
    @extend %story-dark;
}

[character="Anzu"] {
    --color: #ffb6da;
    --hue: 330.4;
    --name: "Anzu";
}

[character="Adonis"] {
    --color: #915da3;
    --hue: 284.6;
    --name: "Adonis";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/adonis.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/adonis.png");
}

[character="Aira"] {
    --color: #fff1cf;
    --hue: 42.5;
    --name: "Aira";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/aira.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/aira.png");
}

[character="Akiomi"] {
    --color: #915c8b;
    --hue: 306.8;
    --name: "Akiomi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/akiomi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/akiomi.png");
}

[character="Arashi"] {
    --color: #edde7b;
    --hue: 52.1;
    --name: "Arashi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/arashi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/arashi.png");
}

[character="Chiaki"] {
    --color: #e60033;
    --hue: 346.7;
    --name: "Chiaki";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/chiaki.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/chiaki.png");
}

[character="Eichi"] {
    --color: #fff3b8;
    --hue: 49.9;
    --name: "Eichi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/eichi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/eichi.png");
}

[character="Gatekeeper"] {
    --color: #7e6407;
    --hue: 46.9;
    --name: "Gatekeeper";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/gatekeeper.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/gatekeeper.png");
}

[character="Hajime"] {
    --color: #cab8d9;
    --hue: 272.7;
    --name: "Hajime";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/hajime.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/hajime.png");
}

[character="Hiiro"] {
    --color: #ba2636;
    --hue: 353.5;
    --name: "Hiiro";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/hiiro.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/hiiro.png");
}

[character="HiMERU"] {
    --color: #89c3eb;
    --hue: 204.5;
    --name: "HiMERU";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/himeru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/himeru.png");
}

[character="Hinata"] {
    --color: #eb6ea0;
    --hue: 336;
    --name: "Hinata";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/hinata.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/hinata.png");
}

[character="Hiyori"] {
    --color: #b8d200;
    --hue: 67.4;
    --name: "Hiyori";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/hiyori.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/hiyori.png");
}

[character="Hokuto"] {
    --color: #0068b7;
    --hue: 205.9;
    --name: "Hokuto";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/hokuto.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/hokuto.png");
}

[character="Ibara"] {
    --color: #74325c;
    --hue: 321.8;
    --name: "Ibara";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/ibara.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/ibara.png");
}

[character="Izumi"] {
    --color: #bbdbf3;
    --hue: 205.7;
    --name: "Izumi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/izumi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/izumi.png");
}

[character="Jin"] {
    --color: #8da0b6;
    --hue: 212.2;
    --name: "Jin";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/jin.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/jin.png");
}

[character="Jun"] {
    --color: #192f60;
    --hue: 221.4;
    --name: "Jun";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/jun.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/jun.png");
}

[character="Kanata"] {
    --color: #008db7;
    --hue: 193.8;
    --name: "Kanata";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/kanata.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/kanata.png");
}

[character="Kaoru"] {
    --color: #fdd35c;
    --hue: 44.3;
    --name: "Kaoru";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/kaoru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/kaoru.png");
}

[character="Keito"] {
    --color: #316745;
    --hue: 142.2;
    --name: "Keito";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/keito.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/keito.png");
}

[character="Koga"] {
    --color: #c9caca;
    --hue: 180;
    --name: "Koga";
    --light-mode: hsl(180, 9%, 92%) !important;
    --dark-mode: hsl(180, 5%, 25%) !important;
    --fill-mode: hsl(180, 5%, 45%) !important;
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/koga.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/koga.png");
}

[character="Kohaku"] {
    --color: #f4b3c2;
    --hue: 346.2;
    --name: "Kohaku";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/kohaku.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/kohaku.png");
}

[character="Kuro"] {
    --color: #e83929;
    --hue: 5;
    --name: "Kuro";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/kuro.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/kuro.png");
}

[character="Leo"] {
    --color: #ec6d51;
    --hue: 10.8;
    --name: "Leo";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/leo.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/leo.png");
}

[character="Madara"] {
    --color: #622d18;
    --hue: 17;
    --name: "Madara";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/madara.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/madara.png");
}

[character="Makoto"] {
    --color: #65ab31;
    --hue: 94.4;
    --name: "Makoto";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/makoto.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/makoto.png");
}

[character="Mao"] {
    --color: #941f57;
    --hue: 331.3;
    --name: "Mao";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/mao.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/mao.png");
}

[character="Mayoi"] {
    --color: #522f60;
    --hue: 282.9;
    --name: "Mayoi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/mayoi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/mayoi.png");
}

[character="Midori"] {
    --color: #00533f;
    --hue: 165.5;
    --name: "Midori";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/midori.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/midori.png");
}

[character="Mika"] {
    --color: #006a6c;
    --hue: 181.1;
    --name: "Mika";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/mika.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/mika.png");
}

[character="Mitsuru"] {
    --color: #ed6d35;
    --hue: 18.3;
    --name: "Mitsuru";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/mitsuru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/mitsuru.png");
}

[character="Nagisa"] {
    --color: #a73836;
    --hue: 1.1;
    --name: "Nagisa";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/nagisa.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/nagisa.png");
}

[character="Natsume"] {
    --color: #d70035;
    --hue: 345.2;
    --name: "Natsume";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/natsume.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/natsume.png");
}

[character="Nazuna"] {
    --color: #ffec47;
    --hue: 53.8;
    --name: "Nazuna";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/nazuna.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/nazuna.png");
}

[character="Niki"] {
    --color: #507ea4;
    --hue: 207.1;
    --name: "Niki";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/niki.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/niki.png");
}

[character="Rei"] {
    --color: #47266e;
    --hue: 267.5;
    --name: "Rei";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/rei.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/rei.png");
}

[character="Rinne"] {
    --color: #b7282e;
    --hue: 357.5;
    --name: "Rinne";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/rinne.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/rinne.png");
}

[character="Ritsu"] {
    --color: #001e43;
    --hue: 213.1;
    --name: "Ritsu";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/ritsu.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/ritsu.png");
}

[character="Seiya"] {
    --color: #07467f;
    --hue: 208.5;
    --name: "Seiya";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/seiya.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/seiya.png");
}

[character="Shinobu"] {
    --color: #ffdc00;
    --hue: 51.8;
    --name: "Shinobu";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/shinobu.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/shinobu.png");
}

[character="Shu"] {
    --color: #e3acae;
    --hue: 357.8;
    --name: "Shu";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/shu.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/shu.png");
}

[character="Sora"] {
    --color: #fff352;
    --hue: 55.8;
    --name: "Sora";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/sora.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/sora.png");
}

[character="Souma"] {
    --color: #5654a2;
    --hue: 241.5;
    --name: "Souma";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/souma.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/souma.png");
}

[character="Subaru"] {
    --color: #f3981d;
    --hue: 34.5;
    --name: "Subaru";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/subaru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/subaru.png");
}

[character="Tatsumi"] {
    --color: #7ebea5;
    --hue: 156.6;
    --name: "Tatsumi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tatsumi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tatsumi.png");
}

[character="Tetora"] {
    --color: #302833;
    --hue: 283.6;
    --name: "Tetora";
    --light-mode: hsl(283.6, 9%, 92%) !important;
    --dark-mode: hsl(283.6, 5%, 25%) !important;
    --fill-mode: hsl(283.6, 5%, 45%) !important;
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tetora.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tetora.png");
}

[character="Tomoya"] {
    --color: #eedcb3;
    --hue: 41.7;
    --name: "Tomoya";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tomoya.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tomoya.png");
}

[character="Tori"] {
    --color: #f5b2b2;
    --hue: 0;
    --name: "Tori";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tori.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tori.png");
}

[character="Tsukasa"] {
    --color: #942343;
    --hue: 343;
    --name: "Tsukasa";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tsukasa.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tsukasa.png");
}

[character="Tsumugi"] {
    --color: #00608d;
    --hue: 199.1;
    --name: "Tsumugi";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/tsumugi.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/tsumugi.png");
}

[character="Wataru"] {
    --color: #a1d8e2;
    --hue: 189.2;
    --name: "Wataru";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/wataru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/wataru.png");
}

[character="Yuta"] {
    --color: #00a1e9;
    --hue: 198.5;
    --name: "Yuta";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/yuta.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/yuta.png");
}

[character="Yuzuru"] {
    --color: #3e62ad;
    --hue: 220.5;
    --name: "Yuzuru";
    --icon: url("https://cdn.jsdelivr.net/gh/enstars/img/icon/yuzuru.png");
    --charahead: url("https://cdn.jsdelivr.net/gh/enstars/img/charahead/yuzuru.png");
}

[character],
.minitalk,
.toolbar,
.msr-season,
.msr-location,
.msr-narration,
.msr-cw {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.msr-unit {
    display: grid;
    grid-template-columns: auto 1fr;
    column-gap: 12px;
    row-gap: 1px;
    font-size: var(--msr-line-size);
}

.msr-icon {
    grid-row: 1/3;

    &__wrapper {
        border-radius: var(--msr-icon-border);
        position: relative;
        overflow: hidden;
        width: var(--msr-icon-size);
        height: var(--msr-icon-size);
    }

    &__base {
        display: block;
        background: 100% / 100%
                var(
                    --icon,
                    url("https://cdn.jsdelivr.net/gh/enstars/img/icon/unknown.png")
                ),
            var(--color, #b3b3b3);
        width: 100%;
        height: 100%;
    }
}

.msr-name {
    font-size: 0.85em;
    line-height: 0.7;
    font-weight: 700;
    text-transform: var(--msr-name-case);

    &::before {
        content: var(--name, "???");
    }
}

.msr-line {
    display: flex;
    flex-direction: column;
    grid-column: 2;
    row-gap: var(--msr-line-gap);

    p {
        align-self: flex-start;
        background: var(--light-mode, #f1f1f1);
        color: #222;
        padding: 0.6em;
        margin: 0;
        border-radius: var(--msr-line-border);
        position: relative;
        filter: var(--msr-line-filter, 0);

        &:hover {
            transform: translate(2px, 0px);
        }

        &:nth-child(2) {
            border-top-left-radius: 0;

            &::before {
                content: "";
                display: block;
                background: var(--light-mode, #f1f1f1);
                width: 8px;
                height: 12px;
                position: absolute;
                top: 0;
                left: -6px;
                -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 7 12'%3E%3Cpath d='M6,12H7V0H.59C.17,0,0,.11,0,.55V1c0,.21.13.44.59.71C4.31,3.88,6,7.61,6,12Z'/%3E%3C/svg%3E")
                    no-repeat 100% 100%;
                mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 7 12'%3E%3Cpath d='M6,12H7V0H.59C.17,0,0,.11,0,.55V1c0,.21.13.44.59.71C4.31,3.88,6,7.61,6,12Z'/%3E%3C/svg%3E")
                    no-repeat 100% 100%;
            }
        }
    }
}

.msr-unit p,
.msr-line p:first-child::before,
.msr-icon__wrapper,
.msr-icon__base {
    transition: all 0.2s ease;
}

%icon-silhouette {
    content: "";
    display: block;
    position: absolute;
    background: #000;
    -webkit-mask-image: var(
        --icon,
        url("https://cdn.jsdelivr.net/gh/enstars/img/icon/unknown.png")
    );
    -webkit-mask-size: 100%;
    -webkit-mask-position: 100%;
    mask-image: var(
        --icon,
        url("https://cdn.jsdelivr.net/gh/enstars/img/icon/unknown.png")
    );
    mask-size: 100%;
    mask-position: 100%;
    top: 0;
    width: 100%;
    height: 100%;
}

[unknown] {
    .msr-icon {
        &__base {
            background: #b3b3b3;
        }

        &__wrapper::after {
            @extend %icon-silhouette;
        }
    }

    .msr-name {
        &::before {
            content: "???";
        }
    }

    .msr-line p {
        background: #f1f1f1;

        &:nth-child(2)::before {
            background: #f1f1f1;
        }
    }
}

[hidden] {
    .msr-icon__wrapper::after {
        @extend %icon-silhouette;
    }
}

.hold {
    display: inline-block;
}

.thought {
    color: #5555c0;
}

.spell {
    font-family: "Almendra", "M PLUS 1p", serif;
    letter-spacing: 0.015em;
    font-size: 1.1em;
    line-height: 1.3;
}

.fill {
    .msr-line {
        p {
            background: var(--fill-mode, #737373);
            color: #fff;

            &:nth-child(2)::before {
                background: var(--fill-mode, #737373);
            }
        }
    }

    &[unknown] {
        .msr-line {
            p {
                background: #737373;

                &:nth-child(2)::before {
                    background: #737373;
                }
            }
        }
    }

    .thought {
        color: #e9efff;
    }
}

[character] {
    &.smallest {
        .msr-line {
            p {
                font-size: 0.8em;
            }
        }
    }

    &.smaller {
        .msr-line {
            p {
                font-size: 0.9em;
            }
        }
    }

    &.bigger {
        .msr-line {
            p {
                font-size: 1.1em;
            }
        }
    }

    &.biggest {
        .msr-line {
            p {
                font-size: 1.2em;
            }
        }
    }
}

@media (min-width: 1200px) {
    .spell {
        font-size: 1.15em;
    }
}

@media (max-width: 650px) {
    .msr-unit {
        margin-bottom: var(--msr-unit-marginSmall);
    }

    .msr-icon__wrapper {
        width: var(--msr-icon-sizeSmall);
        height: var(--msr-icon-sizeSmall);
    }
}

.story-wrapper,
.preview-wrapper,
.lightbox__dim,
.three-wrapper,
.two-wrapper {
    width: 100%;
    font-size: 0.92em;
}

.story-wrapper img,
.lightbox__dim img,
.preview-wrapper img,
.three-wrapper img,
.two-wrapper img {
    margin-bottom: 0;
    border-radius: 0;
}

.grid-wrapper {
    display: grid;
}

.chapter-area ul,
.lightbox ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.story {
    &-background {
        border-radius: 5px 5px 0 0;
        width: 100%;
        height: 400px;
        background: var(--background) no-repeat;
        background-size: cover;
        background-position: top;
        mask-image: linear-gradient(to bottom, #000 70%, transparent 100%);
        -webkit-mask-image: linear-gradient(
            to bottom,
            #000 70%,
            transparent 100%
        );
    }

    &-box {
        border-radius: 15px 5px;
        background: #fff;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.1),
            0 0 15px 5px rgba(0, 0, 0, 0.05);
        margin: -200px 15px 0;
        padding: 20px;
        z-index: 1;
        display: grid;
        grid-template-columns: 120px 1fr 200px;
        grid-template-rows: auto 1fr;
        grid-gap: 15px;
    }

    &-cover {
        display: flex;
        flex-direction: column;
        justify-content: flex-end;

        > div {
            height: 0;
        }

        img {
            height: 150px;
            width: 120px;
            object-fit: cover;
            border-radius: 3px;
            box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5);
            transform: translate(0, -100%);
            margin: 0 !important;
        }
    }
}

%preview-grid {
    grid-row-start: 1;
    grid-column-end: span 3;
}

.preview {
    &-wrapper {
        .grid-wrapper {
            width: 100%;
            grid-template-columns: 22% 10% 2fr 1fr;
        }

        .title-area {
            line-height: 1.25;
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 5px;
            margin-bottom: 10px;
            align-items: center;

            &__title {
                font-size: 1.35em;
                grid-column: 1/3;
            }

            &__subtitle {
                line-height: 0;
            }

            &__start a {
                font-size: 0.88em;
            }
        }
    }

    &-background {
        @extend %preview-grid;
        width: 100%;
        background-repeat: no-repeat;
        background-size: cover;
        grid-column: 1/3;
        border-radius: 5px 0 0 5px;
        mask-image: linear-gradient(to right, #000 70%, transparent 100%);
        -webkit-mask-image: linear-gradient(
            to right,
            #000 70%,
            transparent 100%
        );
        background-position: top 35% right 50%;
    }

    &-box {
        @extend %preview-grid;
        border-radius: 15px 5px;
        background: #fff;
        box-shadow: 0 2px 5px 0 rgb(0 0 0 / 10%), 0 0 15px 5px rgb(0 0 0 / 5%);
        padding: 20px;
        grid-column-start: 2;
        z-index: 1;
        margin: 10px;
    }
}

.title {
    &-area {
        line-height: 1.25;
        display: flex;
        flex-direction: column;
        gap: 5px;

        &__title {
            font-size: 1.35em;
        }

        &__start a {
            background: rgba(var(--storyColor-rgb), 0.1);
            color: rgba(var(--storyColor-rgb), 1);
            padding: 5px 10px;
            display: inline-block;
            border-radius: 5px;
            transition: all 0.2s ease;
            border: none;

            &:hover {
                background: rgba(var(--storyColor-rgb), 1);
                color: #fff;
            }
        }
    }
}

.title-area__title,
.title-area__subtitle,
.tab-header__name,
.card__name,
.card__jp {
    margin: 0;
    border: 0;
}

.title-area__subtitle,
.card__jp {
    font-family: "M PLUS 1p", "Noto Sans JP";
}

.title-area__title,
.card__name {
    font-weight: 700;
}

.preview-wrapper .title-area__start a:hover {
    background: rgba(var(--storyColor-rgb), 1);
    color: #fff;
}

.info {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 2fr;
    gap: 5px;

    &-area {
        grid-column: 1/3;
        display: flex;
        flex-direction: column;
        gap: 8px;

        a {
            color: var(--storyColor);
            transition: 0.2s ease-in-out;
            border-bottom: none;

            &:hover {
                color: var(--storyColor-dark);
            }
        }

        .synopsis {
            margin-bottom: 3px;
        }

        ol,
        li {
            margin-block-start: 0;
            margin-block-end: 0;
            margin-inline-start: 0;
            margin-inline-end: 0;
            padding-inline-start: 0;
        }
    }

    &-item {
        border-radius: 5px;
        padding: 5px 10px;
        border: solid 2px rgba(var(--storyColor-rgb), 0.2);

        &.season {
            grid-column: 1/2;
            grid-row: 1/2;
        }

        &.chapters {
            grid-column: 2/4;
            grid-row: 1/2;
        }

        &.writer {
            grid-column: 4/5;
            grid-row: 1/2;
        }

        &.characters {
            grid-column: 1/5;
            padding: 5px 10px 0;
        }

        &.tl {
            grid-column: 1/3;
        }

        &.pr {
            grid-column: 3/5;
        }

        > {
            .label {
                padding: 0;
                font-weight: 700;
                font-size: 0.82em;
            }

            .value {
                flex-grow: 1;
                font-size: 0.9em;
            }
        }
    }
}

.three-wrapper .info-item {
    &.one {
        grid-column: 1/2;
        grid-row: 2/3;
    }

    &.two {
        grid-column: 2/4;
    }

    &.three {
        grid-column: 4/5;
    }
}

.two-wrapper .info-item {
    &.one {
        grid-column: 1/3;
    }

    &.two {
        grid-column: 3/5;
    }
}

.three-wrapper,
.two-wrapper {
    margin-bottom: 20px;
}

.characters > .value a {
    display: inline-block;
    background: var(--charahead) 0 (0 / cover);
    height: 40px;
    width: 40px;
    margin: 0 -3px;
}

.chapter-area {
    grid-column: 3/3;
    grid-row: 1/3;
    font-size: 0.9em;

    > .chapters {
        &:not(:only-child) {
            margin-bottom: 15px;
        }

        span {
            grid-row: 1;
            grid-column: 1/5;
        }
    }

    li {
        display: grid;
        margin-bottom: 5px;
        gap: 5px;
    }

    > .mini-talks {
        border-top: solid 1px #eff0f4;

        &::before {
            content: "Mini Talks";
            display: flex;
            align-items: center;
            font-weight: 700;
            margin-top: 5px;
        }

        .mt {
            &-content {
                display: none;

                > .item {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 5px;
                }
            }

            &-header {
                margin-bottom: 5px;
                cursor: pointer;

                &::after {
                    content: "\e5cf";
                    display: inline-block;
                    font-family: "Material Icons Rounded";
                    font-size: 1.1em;
                    transition: transform 0.4s ease;
                    position: relative;
                    top: 1px;
                    left: 3px;
                }
            }
        }
    }

    a {
        border-bottom: 0;
        display: block;
        border-radius: 3px;
        transition: all 0.2s ease;
        background: rgba(var(--storyColor-rgb), 0.1);
        padding: 5px;
        text-align: center;

        &:hover {
            background: rgba(var(--storyColor-rgb), 0.2);
        }
    }
}

#none {
    background: rgba(225, 227, 234, 0.4);

    &:hover {
        background: rgba(225, 227, 234, 0.8);
    }
}

%tab-font-size {
    font-size: 0.9em;
}

.story-wrapper {
    .tab {
        &-header {
            @extend %tab-font-size;
            background: rgba(var(--storyColor-rgb), 0.1);
            font-weight: 700;
            border-radius: 5px;
            cursor: pointer;
            padding: 8px;
            display: flex;
            justify-content: space-between;

            &:first-child::after {
                content: "\e5cf";
                display: inline-block;
                font-family: "Material Icons Rounded";
                font-size: 1.5em;
                line-height: 1;
                transition: transform 0.4s ease;
            }
        }

        &-content {
            @extend %tab-font-size;
            display: none;
            padding: 8px 10px 0;

            .source {
                @extend %tab-font-size;
                text-align: right;
            }

            > .tab-item {
                &:first-child {
                    padding: 0 0 8px 0;
                }

                &:not(:first-child) {
                    border-top: solid 1px #eff0f4;
                    padding: 8px 0;
                }

                &:last-child {
                    padding: 8px 0 0 0;
                }
            }

            ul {
                &:only-child {
                    padding-left: 0;
                    margin: 0 0 0 20px;
                }
            }
        }

        &-item > {
            .label {
                font-weight: 700;
                font-size: 0.88em;
            }

            .value {
                margin-left: 10px;
            }
        }
    }
}

.chapter-area > .mini-talk__open:after,
.tab-header__open:first-child:after {
    transform: rotate(180deg);
}

.cg-gallery > .tab-content > .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 2fr));
    gap: 8px;
}

.gallery-item {
    overflow: hidden;
    border-radius: 5px;
    position: relative;
    width: 100%;
    height: auto;

    img {
        transition: 0.2s ease;
        margin: 0 !important;
    }

    &:hover {
        img {
            transform: scale(1.02);
        }

        .caption {
            transform: translateY(0);
        }
    }

    .caption {
        position: absolute;
        bottom: 0;
        width: calc(100% - 24px);
        color: #fff;
        background: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0),
            rgba(0, 0, 0, 0.8)
        );
        padding: 40px 12px 12px;
        transition: 0.2s ease;
        transform: translateY(100%);
    }
}

.story-cards > .tab-content > .cards {
    display: grid;
    grid-template-columns: repeat(5, minmax(auto, 1fr));
    gap: 0 8px;
}

.single {
    transition: transform 0.2s ease;
    position: relative;
    display: inline-block;
    filter: drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.6));

    img {
        object-fit: contain;
        width: 100%;
        margin: 0 !important;
    }
}

.image {
    position: relative;

    .single {
        &.unbloomed {
            z-index: 2;
            transform: scale(1);
            filter: brightness(100%);
        }

        &.bloomed {
            z-index: 1;
            top: 0;
            left: 0;
            transform: translateX(5%) scale(0.95) rotate(2deg);
            filter: brightness(70%);
            position: absolute;
            width: 100%;
            height: 100%;
        }
    }

    &:hover {
        .single {
            &.bloomed {
                z-index: 2;
                transform: translateX(0%) scale(1) rotate(0deg);
                filter: brightness(100%);
            }

            &.unbloomed {
                z-index: 1;
                transform: translateX(-5%) scale(0.95) rotate(-2deg);
                filter: brightness(70%);
            }
        }

        .quotes {
            transform: translate(0, calc(-1 * var(--quote-height)));
        }
    }

    .quotes {
        display: grid;
        grid-template-rows: var(--quote-height) var(--quote-height);
        transition: 0.2s ease;

        > * {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            line-height: 1.2;
        }

        &__wrapper {
            display: none;
        }
    }
}

.cards-item > .image {
    cursor: zoom-in;
}

.lightbox {
    &-content {
        background: #fff;
        width: 90vw;
        max-width: 600px;
        max-height: 100vh;
        overflow: auto;
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 20px;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 5px 10px 0 rgba(0, 0, 0, 0.2),
            0 0 40px 0 rgba(0, 0, 0, 0.1);
        box-sizing: border-box;

        .image .quotes__wrapper {
            display: block;
            --quote-height: 2.5em;
            height: var(--quote-height);
            overflow: hidden;
        }
    }

    &__dim {
        position: fixed;
        z-index: 99999999;
        height: 100vh;
        width: 100vw;
        top: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    > .tlnote {
        font-size: smaller;
    }
}

body.lightbox-visible {
    overflow: hidden;
}

.cards {
    &-item {
        .lightbox {
            display: none;
        }
    }

    &__name {
        font-size: 1.1em;
    }
}

.skills {
    li {
        display: grid;
        grid-template-columns: 63px 1fr;
        gap: 0 5px;
        margin: 10px 0;

        &::before {
            color: #fff;
            background-color: #0c195c;
            padding: 2px 6px;
            grid-row-start: 1;
            grid-column-start: 1;
            grid-column-end: 2;
            text-align: center;
            font-weight: 700;
            font-size: 0.8em;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 1.6em;
            content: attr(id);
            text-transform: uppercase;
        }
    }

    .name {
        font-weight: 700;
    }

    .desc {
        grid-column-start: 2;
    }
}

%reverse-preview-grid {
    grid-column-end: 3 span;
}

.reverse {
    .grid-wrapper {
        grid-template-columns: 2fr 1fr 10% 22%;
    }

    .preview {
        &-background {
            @extend %reverse-preview-grid;
            grid-column: 3/5;
            border-radius: 0 5px 5px 0;
            mask-image: linear-gradient(to left, #000 70%, transparent 100%);
            -webkit-mask-image: linear-gradient(
                to left,
                #000 70%,
                transparent 100%
            );
            background-position: top 35% left 50%;
        }

        &-box {
            @extend %reverse-preview-grid;
            grid-column: 1/4;
        }
    }
}

@media only screen and (max-width: 812px) {
    .story {
        &-box {
            grid-template-columns: auto [col-start] 1fr [last];
            grid-template-rows: auto;
            margin: -245px 15px 0;
        }

        &-cover {
            grid-column: 1/2;
            grid-row: 1/2;
        }
    }

    .title-area {
        grid-column: 2/3;
        grid-row: 1/2;
        line-height: 1.25;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .mobile-reverse {
        .story {
            &-box {
                grid-template-columns: 1fr [col-start] auto [last];
            }

            &-cover {
                grid-column: 2/2;
            }
        }

        .title-area {
            grid-column: 1/2;
        }
    }

    .info-area {
        grid-column: 1/3;
    }

    .chapter-area {
        grid-column: 1/3;
        grid-row: 3;
        font-size: 0.9em;
    }

    .characters > .value a {
        height: 35px;
        width: 35px;
        margin-bottom: -3px;
    }

    .lightbox {
        &__dim {
            font-size: 0.9em;

            .skills li {
                grid-template-columns: 50px 1fr;
            }
        }

        &-content {
            padding: 15px;
            gap: 15px;
        }
    }

    .card {
        &__name {
            font-size: 1em;
        }

        &__jp {
            font-size: 0.9em;
        }
    }

    .skills {
        li::before {
            font-size: 0.7em;
        }

        .name,
        .desc {
            font-size: 0.88em;
        }
    }

    .quotes {
        font-size: 0.83em;
    }
}

@media only screen and (max-width: 567px) {
    .preview {
        &-background {
            display: none;
        }

        &-wrapper .grid-wrapper {
            grid-template-columns: unset;
        }

        &-box {
            padding: 0;
            margin: 0;
            background: none;
            box-shadow: none;
        }
    }

    .characters > .value a {
        height: 35px;
        width: 35px;
        margin-bottom: -3px;
    }
}

@media only screen and (max-width: 400px) {
    .story-cover {
        display: none;
    }

    .title-area {
        grid-column: 1/3;
    }
}

.minitalk {
    display: flex;
    flex-direction: column;
    gap: 8px;
    transition: 0.15s all ease;

    .msr-unit {
        &:last-of-type {
            margin-bottom: unset;
        }
    }

    ul {
        margin-block-start: 0;
        margin-block-end: 0;
        margin-inline-start: 0;
        margin-inline-end: 0;
        padding-inline-start: 0;
        list-style: none;
        padding: 0;
        margin-bottom: 15px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        border-bottom: solid 3px;
        border-color: var(--light-mode, #f1f1f1);
        gap: 5px;
    }

    li {
        border-radius: 10px 10px 0 0;
        border: solid 3px;
        border-color: var(--light-mode, #f1f1f1);
        border-bottom: 0;
        padding: 0;
        margin-bottom: -2px;

        > a {
            color: #222;
            border: 0;
            display: block;
            padding: 3px;
            text-align: center;
        }

        &.active {
            background: var(--light-mode, #f1f1f1);
            font-weight: 700;
        }
    }

    &-option {
        &_header {
            background: var(--light-mode, #f1f1f1);
            border-radius: 5px;
            cursor: pointer;
            padding: 8px;
            display: grid;
            grid-template-columns: 40px 1fr 40px;
            text-align: center;
            align-items: center;
            gap: 10px;
            color: #222;
            transition: 0.15s all ease;

            &::after {
                content: "\e5cf";
                display: inline-block;
                font-family: "Material Icons Rounded";
                font-size: 1.5em;
                font-weight: 700;
                line-height: 1;
                transition: transform 0.4s ease;
                justify-self: end;
                align-self: center;
            }

            &::before {
                content: "";
                background: var(--charahead) 0 (0 / cover);
                height: 40px;
                width: 40px;
                display: inline-block;
            }
        }

        &_content {
            display: none;
            padding: 8px 0 0;
        }
    }
}

.fill {
    &.minitalk {
        ul {
            border-color: var(--fill-mode, #737373);
        }

        li {
            border-color: var(--fill-mode, #737373);

            &.active {
                background: var(--fill-mode, #737373);

                > a {
                    color: #fff;
                }
            }
        }
    }

    .minitalk-option_header {
        color: #fff;
        background: var(--fill-mode, #737373);
    }
}

.smallest .minitalk-option_header {
    font-size: 0.8em;

    &::after {
        font-size: 1.7em;
    }
}

.smaller .minitalk-option_header {
    font-size: 0.9em;

    &::after {
        font-size: 1.6em;
    }
}

.smallest .minitalk-option_header,
.smaller .minitalk-option_header {
    padding: 6px;
    grid-template-columns: 35px 1fr 35px;

    &::before {
        height: 35px;
        width: 35px;
    }
}

.bigger .minitalk-option_header {
    font-size: 1.1em;

    &::after {
        font-size: 1.4em;
    }
}

.biggest .minitalk-option_header {
    font-size: 1.2em;

    &::after {
        font-size: 1.3em;
    }
}

.bigger .minitalk-option_header,
.biggest .minitalk-option_header {
    grid-template-columns: 45px 1fr 45px;

    &::before {
        height: 45px;
        width: 45px;
    }
}

[mt="normal"],
[mt="rare"] {
    display: inline-block;
    width: 25px;
    height: 29.28px;
    margin: 0 10px -8px 0 !important;
    background-size: cover;
}

[mt="normal"] {
    background-image: url("https://cdn.jsdelivr.net/gh/enstars/img/talkevent_normal.png");
}

[mt="rare"] {
    background-image: url("https://cdn.jsdelivr.net/gh/enstars/img/talkevent_rare.png");
}

.msr-unit {
    sup {
        vertical-align: unset;
        font-size: unset;
    }
}

a.footnote-ref {
    display: inline-block;
    vertical-align: middle;
    text-decoration: none;
    margin: 0 2px;
    font-weight: 800;
    font-style: normal;
    font-size: 0.55em;
    border-radius: 3px;
    border: solid 1px rgb(158 158 158 / 40%);
    padding: 0 3px;
    background: rgb(255 255 255 / 50%);
    color: var(--storyColor);

    &:hover {
        color: var(--storyColor-dark);
    }
}

.footnotes {
    > ol {
        padding-left: 0;
        margin-left: 20px;

        > li {
            a.footnote-backref {
                color: var(--storyColor);
                border: 0;
                text-decoration: none;
                padding-left: 8px;

                &:hover {
                    color: var(--storyColor-dark);
                }
            }
        }
    }
}

.tippy-box[data-animation="shift-away"][data-state="hidden"] {
    opacity: 0;

    &[data-placement^="top"] {
        transform: translateY(10px);
    }

    &[data-placement^="bottom"] {
        transform: translateY(-10px);
    }

    &[data-placement^="left"] {
        transform: translateX(10px);
    }

    &[data-placement^="right"] {
        transform: translateX(-10px);
    }
}

.tippy-box[data-theme~="translucent"] {
    background-color: var(--msr-tippy-bg);
    font-size: 0.9em;

    a {
        color: var(--storyColor-bright);
        border-bottom: 0;
        text-decoration: underline;

        &:hover {
            color: var(--storyColor);
        }
    }

    > .tippy-arrow {
        width: 14px;
        height: 14px;
    }

    &[data-placement^="top"] > .tippy-arrow:before {
        border-width: 7px 7px 0;
        border-top-color: var(--msr-tippy-bg);
    }

    &[data-placement^="bottom"] > .tippy-arrow:before {
        border-width: 0 7px 7px;
        border-bottom-color: var(--msr-tippy-bg);
    }

    &[data-placement^="left"] > .tippy-arrow:before {
        border-width: 7px 0 7px 7px;
        border-left-color: var(--msr-tippy-bg);
    }

    &[data-placement^="right"] > .tippy-arrow:before {
        border-width: 7px 7px 7px 0;
        border-right-color: var(--msr-tippy-bg);
    }

    > {
        .tippy-backdrop {
            background-color: var(--msr-tippy-bg);
        }

        .tippy-svg-arrow {
            fill: var(--msr-tippy-bg);
        }
    }
}

@mixin grid-center {
    display: grid;
    align-items: center;
}

@mixin marker-icon {
    font-family: "Material Icons Rounded";
    justify-self: center;
}

@mixin marker-line {
    content: "";
    height: 0.1em;
    width: 100%;
    display: block;
    border-bottom: solid var(--msr-marker-lineColor, #555) 1px;
}

.msr-cw {
    @include grid-center;
    background: #cb0f0f;
    border: solid 1px #9f0606;
    color: #fff;
    border-radius: 5px;
    padding: 12px;
    grid-template: 1fr 1fr / 28px 1fr;
    column-gap: 12px;

    p {
        margin: 0;
        grid-column: 2/3;
    }

    .cw-header {
        font-weight: 700;
        font-size: 1.1em;
        grid-column: 2/3;
        grid-row: 1/2;
    }

    &::before {
        content: "\e002";
        @include marker-icon;
        font-size: 28px;
        font-weight: normal;
        grid-row: 1/3;
        line-height: 1;
    }
}

.msr-location {
    @include grid-center;
    grid-template: 1fr / 1fr auto 1fr;
    gap: 5px;

    p {
        margin: 0;
        display: flex;
        align-items: center;
        gap: 5px;

        &::before {
            content: "\e55f";
            @include marker-icon;
            font-size: 18px;
        }
    }

    span {
        padding-right: 2px;
    }

    &::before,
    &::after {
        @include marker-line;
    }
}

.msr-season {
    @include grid-center;
    grid-template: 1fr / 24px 1fr;
    border-radius: 5px;
    padding: 8px;
    border: solid 1px;

    p {
        margin: 0;
    }

    &::before {
        content: "\f076";
        @include marker-icon;
        font-size: 18px;
    }
}
[s="Winter"] {
    border-color: hsl(221, 27%, 80%);
    background: hsl(221, 27%, 92%);
}

[s="Spring"] {
    border-color: hsl(341, 100%, 83%);
    background: hsl(341, 100%, 95%);
}

[s="Summer"] {
    border-color: hsl(210, 100%, 83%);
    background: hsl(210, 100%, 95%);
}

[s="Fall"],
[s="Autumn"] {
    border-color: hsl(29, 100%, 83%);
    background: hsl(29, 100%, 95%);
}

.msr-narration {
    @include grid-center;
    grid-template: 1fr / var(--msr-icon-size) 1fr;
    gap: 10px;

    p {
        background: unset;
        color: unset;
        padding: unset;
        margin: 0;
        border-radius: unset;
        transition: all 0.2s ease;

        &:first-child::before {
            content: none;
        }
    }

    &::before {
        @include marker-line;
        transition: all 0.2s ease;
    }
}

@media (max-width: 650px) {
    .msr-narration {
        grid-template: 1fr / var(--msr-icon-sizeSmall) 1fr;
    }

    .msr-cw {
    }
}

/* Pages */

.chapter-wrapper {
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    width: 60%;
}

.mashiro {
    margin: 0 10px;
    display: flex;
    flex-direction: column;
    row-gap: 1em;
}

@media (max-width: 900px) {
    .chapter-wrapper {
        width: auto;
    }
}

@media (min-width: 1600px) {
    .chapter-wrapper {
        width: 75%;
    }
}

/* Toolbar */

.toolbar-wrapper {
    position: sticky;
    top: 0px;
    margin-bottom: 10px;
    z-index: 99;
    filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.2));

    .toolbar {
        display: grid;
        grid-auto-flow: column;
        justify-content: space-evenly;
        align-items: center;
        gap: 2em;
        width: 100%;
        background-color: #fff;
        height: 2.5em;
        border-radius: 0 0 15px 15px;

        .toolbar__section {
        }
    }
}
